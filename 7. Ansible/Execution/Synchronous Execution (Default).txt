ğŸ”¹ Synchronous Execution (Default)
âœ… Ansible waits for each task to complete before moving to the next task.
âœ… Tasks run sequentially on each host.

- name: Install Nginx
  ansible.builtin.yum:
    name: nginx
    state: present
ğŸ“Œ Ansible waits for this task to finish before moving on.


ğŸ”¹ Asynchronous Execution (async Mode)
âœ… Ansible starts a task and moves on without waiting for it to finish.
âœ… Useful for long-running tasks like backups, database migrations, or large file copies.

Example: Run a Task in the Background
- name: Run a script asynchronously
  ansible.builtin.command: /path/to/long_script.sh
  async: 300    # Task will be allowed to run for 300 seconds
  poll: 10      # Check every 10 seconds for completion
  register: async_task
ğŸ“Œ Ansible starts the script and checks its status every 10 seconds.


ğŸ”¹ Fire-and-Forget (No Waiting)
âœ… If you donâ€™t want to check status, set poll: 0
âœ… Ansible will start the task and move on immediately

- name: Run script without waiting
  ansible.builtin.command: /path/to/long_script.sh
  async: 300
  poll: 0  # Fire and forget

ğŸ“Œ Use case: When the task is independent and doesnâ€™t affect other tasks.


ğŸ”¹ Checking Status of Asynchronous Tasks
If a task is running asynchronously, you can later check its status using async_status.

- name: Check async task status
  ansible.builtin.async_status:
    jid: "{{ async_task.ansible_job_id }}"
  register: job_result
  until: job_result.finished
  retries: 10

ğŸ“Œ Ensures the task completes before continuing.


Difference Between Asynchronous Execution and Fire-and-Forget in Ansible:
-------------------------------------------------------------------------
ğŸ”¹ 1ï¸âƒ£ Asynchronous Execution (async with polling)
âœ… Starts a task and periodically checks its status
âœ… Ansible ensures completion before moving on
ğŸ“Œ Ansible keeps checking the status every 10 seconds until the task finishes.

ğŸ”¹ 2ï¸âƒ£ Fire-and-Forget (async with poll: 0)
âœ… Starts a task and moves on immediately
âŒ Ansible does NOT check if the task completed successfully
ğŸ“Œ Ansible starts the task and moves on without checking if it completes.
